<section class="what-section">
  <div class="what-container">
   
    <div class="partners-title">
      <h1>Somos expertos en...</h1>
    </div>
    
    <div class="carousel-container">
      <button class="nav-button prev" data-direction="-1">‚Äπ</button>
      <button class="nav-button next" data-direction="1">‚Ä∫</button>
      
      <div class="carousel-wrapper" id="carousel">
        <ul class="cards-carousel">
          <li class="card-minimal">
            <div class="card-icon">üõ°Ô∏è</div>
            <h3 class="card-title">Consultor√≠a en Ciberseguridad</h3>
            <p class="card-description">Evaluamos tu infraestructura y desarrollamos estrategias personalizadas para proteger tu empresa.</p>
            <ul class="card-features">
              <li>An√°lisis de vulnerabilidades</li>
              <li>Estrategia de seguridad</li>
              <li>Compliance y normativas</li>
            </ul>
          </li>
          <li class="card-minimal">
            <div class="card-icon">üîí</div>
            <h3 class="card-title">Aseguramiento Inform√°tico</h3>
            <p class="card-description">Implementamos controles y medidas de seguridad para proteger tus sistemas y datos cr√≠ticos.</p>
            <ul class="card-features">
              <li>Monitoreo 24/7</li>
              <li>Detecci√≥n de amenazas</li>
              <li>Respuesta a incidentes</li>
            </ul>
          </li>
          <li class="card-minimal">
            <div class="card-icon">üåê</div>
            <h3 class="card-title">Aseguramiento Perimetral</h3>
            <p class="card-description">Protegemos el per√≠metro de tu red con firewalls avanzados y sistemas de detecci√≥n.</p>
            <ul class="card-features">
              <li>Firewalls de nueva generaci√≥n</li>
              <li>Detecci√≥n de intrusiones</li>
              <li>Filtrado de contenido</li>
            </ul>
          </li>
          <li class="card-minimal">
            <div class="card-icon">‚ö°</div>
            <h3 class="card-title">Hacking √âtico</h3>
            <p class="card-description">Pruebas de penetraci√≥n profesionales para identificar vulnerabilidades antes que los atacantes.</p>
            <ul class="card-features">
              <li>Pentesting avanzado</li>
              <li>Simulaci√≥n de ataques</li>
              <li>Reporte detallado</li>
            </ul>
          </li>
          <li class="card-minimal">
            <div class="card-icon">üîç</div>
            <h3 class="card-title">Inform√°tica Forense</h3>
            <p class="card-description">Investigaci√≥n digital para recuperar evidencias y analizar incidentes de seguridad.</p>
            <ul class="card-features">
              <li>An√°lisis de evidencias</li>
              <li>Recuperaci√≥n de datos</li>
              <li>Investigaci√≥n de incidentes</li>
            </ul>
          </li>
          <li class="card-minimal">
            <div class="card-icon">‚öôÔ∏è</div>
            <h3 class="card-title">SGS Sistemas de Gesti√≥n</h3>
            <p class="card-description">Implementaci√≥n de sistemas de gesti√≥n de seguridad seg√∫n est√°ndares internacionales.</p>
            <ul class="card-features">
              <li>ISO 27001</li>
              <li>Gesti√≥n de riesgos</li>
              <li>Pol√≠ticas de seguridad</li>
            </ul>
          </li>
          <li class="card-minimal">
            <div class="card-icon">üì°</div>
            <h3 class="card-title">WPT</h3>
            <p class="card-description">Evaluaci√≥n de seguridad en redes inal√°mbricas para detectar vulnerabilidades.</p>
            <ul class="card-features">
              <li>Auditor√≠a WiFi</li>
              <li>An√°lisis de encriptaci√≥n</li>
              <li>Pruebas de acceso</li>
            </ul>
          </li>
          <li class="card-minimal">
            <div class="card-icon">üìä</div>
            <h3 class="card-title">Gesti√≥n de Riesgos</h3>
            <p class="card-description">Identificaci√≥n, evaluaci√≥n y mitigaci√≥n de riesgos de seguridad inform√°tica.</p>
            <ul class="card-features">
              <li>Evaluaci√≥n de riesgos</li>
              <li>Planes de mitigaci√≥n</li>
              <li>Monitoreo continuo</li>
            </ul>
          </li>
          <li class="card-minimal">
            <div class="card-icon">üíº</div>
            <h3 class="card-title">BCP</h3>
            <p class="card-description">Planes de continuidad de negocio para mantener operaciones durante incidentes.</p>
            <ul class="card-features">
              <li>An√°lisis de impacto</li>
              <li>Planes de recuperaci√≥n</li>
              <li>Pruebas de continuidad</li>
            </ul>
          </li>
        </ul>
      </div>
      
      <div class="scroll-indicators" id="indicators"></div>
    </div>
  </div>
</section>

<style>
  .what-section {
    background: #0c0c0c;
    overflow: hidden;
    padding: 2% 12% 2% 12%;
  }

  .what-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 0rem;
  }

  .partners-title {
    text-align: center;
    margin-bottom: 3rem;
  }

  .partners-title h1 {
    color: #ffffff;
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, #00f5ff, #00ff88);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  h1 {
    color: white;
    font-size: 42px;
    line-height: 1.2;
    padding-bottom: 2rem;
    text-align: center;
    margin: 0 auto;
  }

  span {
    color: #00ff88;
    font-style: italic;
    font-family: "Playfair-Display", serif;
    font-size: 42px;
  }

  .carousel-container {
    position: relative;
    margin: 0 auto;
    overflow: visible;
    padding: 0 60px;
  }

  .carousel-wrapper {
    overflow-x: auto;
    scroll-behavior: smooth;
    scrollbar-width: none;
    -ms-overflow-style: none;
    padding-bottom: 1rem;
    margin: 0 -60px;
    padding-left: 60px;
    padding-right: 60px;
    position: relative;
  }

  .carousel-wrapper::-webkit-scrollbar {
    display: none;
  }

  .cards-carousel {
    display: flex;
    gap: 1.5rem;
    padding: 0 1rem;
    list-style: none;
    margin: 0;
    width: fit-content;
  }

  .card-minimal {
    background: #1a1a1a;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 2rem;
    transition: all 0.3s ease;
    position: relative;
    min-width: 280px;
    max-width: 320px;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    height: 370px;
  }

  .card-minimal:hover {
    background: rgba(26, 26, 26, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
  }

  .card-icon {
    width: 50px;
    height: 50px;
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-bottom: 1rem;
    flex-shrink: 0;
  }

  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 0.5rem;
    line-height: 1.3;
    flex-shrink: 0;
  }

  .card-description {
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.9rem;
    line-height: 1.4;
    margin-bottom: 1rem;
    flex-grow: 1;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
  }

  .card-features {
    list-style: none;
    padding: 0;
    margin: 0;
    flex-shrink: 0;
  }

  .card-features li {
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
    margin-bottom: 0.4rem;
    padding-left: 1rem;
    position: relative;
    line-height: normal;
  }

  .card-features li::before {
    content: '‚óè';
    position: absolute;
    left: 0;
    color: #00ff88;
    font-size: 0.8rem;
  }

  .nav-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 255, 136, 0.15);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(0, 255, 136, 0.3);
    border-radius: 50%;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 10;
    color: #00ff88;
    font-size: 20px;
    font-weight: bold;
    text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
    box-shadow: 0 4px 15px rgba(0, 255, 136, 0.2);
  }

  .nav-button:hover {
    background: rgba(0, 255, 136, 0.25);
    border-color: rgba(0, 255, 136, 0.6);
    transform: translateY(-50%) scale(1.1);
    box-shadow: 0 6px 20px rgba(0, 255, 136, 0.4);
  }

  .nav-button.prev {
    left: 0;
    animation: pulse-nav-left 3s ease-in-out infinite;
  }

  .nav-button.next {
    right: 0;
    animation: pulse-nav-right 3s ease-in-out infinite 1.5s;
  }

  @keyframes pulse-nav-left {
    0%, 100% { 
      box-shadow: 0 4px 15px rgba(0, 255, 136, 0.2);
    }
    50% { 
      box-shadow: 0 6px 25px rgba(0, 255, 136, 0.4);
    }
  }

  @keyframes pulse-nav-right {
    0%, 100% { 
      box-shadow: 0 4px 15px rgba(0, 255, 136, 0.2);
    }
    50% { 
      box-shadow: 0 6px 25px rgba(0, 255, 136, 0.4);
    }
  }

  .scroll-indicators {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 2rem;
  }

  .scroll-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .scroll-dot.active {
    background: #00ff88;
    transform: scale(1.2);
  }

  /* RESPONSIVE MEJORADO */
  @media screen and (max-width: 1024px) {
    .what-section {
      padding: 2% 6% 2% 6%;
    }
    
    .carousel-container {
      padding: 0 50px;
    }
    
    .carousel-wrapper {
      margin: 0 -50px;
      padding-left: 50px;
      padding-right: 50px;
    }
  }

  @media screen and (max-width: 768px) {
    .what-section {
      padding: 4rem 2rem;
    }

    .carousel-container {
      padding: 0 45px;
    }

    .carousel-wrapper {
      margin: 0 -45px;
      padding-left: 45px;
      padding-right: 45px;
    }

    h1 {
      font-size: 2rem;
      padding-bottom: 1.5rem;
    }

    span {
      font-size: 2rem;
    }

    .card-minimal {
      min-width: 250px;
      max-width: 280px;
      padding: 1.5rem;
      height: 330px;
    }

    .cards-carousel {
      gap: 1rem;
      padding: 0 0.5rem;
    }

    .nav-button {
      width: 40px;
      height: 40px;
      font-size: 16px;
    }

    .card-title {
      font-size: 1.1rem;
    }

    .card-description {
      font-size: 0.8rem;
    }

    /* Botones de navegaci√≥n m√°s visibles en m√≥vil */
    .nav-button {
      display: flex !important;
      width: 45px;
      height: 45px;
      font-size: 18px;
      background: rgba(0, 255, 136, 0.2);
      border: 2px solid rgba(0, 255, 136, 0.5);
      animation: pulse-mobile 2s ease-in-out infinite;
    }

    .nav-button:hover {
      background: rgba(0, 255, 136, 0.3);
    }

    @keyframes pulse-mobile {
      0%, 100% { 
        transform: translateY(-50%) scale(1);
        box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
      }
      50% { 
        transform: translateY(-50%) scale(1.05);
        box-shadow: 0 6px 25px rgba(0, 255, 136, 0.5);
      }
    }
  }

  @media screen and (max-width: 480px) {
    .what-section {
      padding: 3rem 1rem;
    }
    
    /* Botones de navegaci√≥n siempre visibles y prominentes en m√≥vil */
    .nav-button {
      display: flex !important;
      width: 40px;
      height: 40px;
      font-size: 16px;
      background: rgba(0, 255, 136, 0.25);
      border: 2px solid rgba(0, 255, 136, 0.6);
      animation: pulse-mobile-strong 1.8s ease-in-out infinite;
    }

    .nav-button:hover {
      background: rgba(0, 255, 136, 0.35);
    }

    @keyframes pulse-mobile-strong {
      0%, 100% { 
        transform: translateY(-50%) scale(1);
        box-shadow: 0 4px 15px rgba(0, 255, 136, 0.4);
      }
      50% { 
        transform: translateY(-50%) scale(1.1);
        box-shadow: 0 8px 30px rgba(0, 255, 136, 0.6);
      }
    }

    .carousel-container {
      padding: 0 40px;
    }

    .carousel-wrapper {
      margin: 0 -40px;
      padding: 0 40px;
      scroll-snap-type: x mandatory;
    }

    .card-minimal {
      scroll-snap-align: center;
      min-width: 240px;
      max-width: 260px;
      height: 320px;
      padding: 1.25rem;
    }
    
    .cards-carousel {
      gap: 0.75rem;
    }

    h1 {
      font-size: 1.75rem;
    }

    .card-title {
      font-size: 1rem;
    }

    .card-description {
      font-size: 0.75rem;
      -webkit-line-clamp: 3;
    }
    
    .card-features li {
      font-size: 0.8rem;
    }
  }

  @media screen and (max-width: 360px) {
    .carousel-container {
      padding: 0 35px;
    }
    
    .carousel-wrapper {
      margin: 0 -35px;
      padding: 0 35px;
    }
    
    .nav-button {
      width: 30px;
      height: 30px;
      font-size: 12px;
    }
    
    .card-minimal {
      min-width: 220px;
      max-width: 240px;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const carousel = document.getElementById('carousel') as HTMLElement;
    const indicatorsContainer = document.getElementById('indicators') as HTMLElement;
    const prevButton = document.querySelector('.nav-button.prev') as HTMLButtonElement;
    const nextButton = document.querySelector('.nav-button.next') as HTMLButtonElement;
    
    // Verificar que los elementos existen
    if (!carousel || !indicatorsContainer || !prevButton || !nextButton) return;
    
    // Funci√≥n para scroll del carrusel
    function scrollCarousel(direction: number): void {
      const cardWidth = window.innerWidth <= 480 ? 250 : 300;
      const scrollAmount = cardWidth * direction;
      carousel.scrollBy({
        left: scrollAmount,
        behavior: 'smooth'
      });
    }

    // Event listeners para los botones
    prevButton.addEventListener('click', () => scrollCarousel(-1));
    nextButton.addEventListener('click', () => scrollCarousel(1));

    // Crear indicadores
    function createIndicators(): void {
      const totalCards = document.querySelectorAll('.card-minimal').length;
      const cardWidth = window.innerWidth <= 480 ? 250 : 300;
      const visibleCards = Math.floor(carousel.offsetWidth / cardWidth);
      const totalDots = Math.max(1, totalCards - visibleCards + 1);
      
      indicatorsContainer.innerHTML = '';
      for (let i = 0; i < totalDots; i++) {
        const dot = document.createElement('div');
        dot.className = 'scroll-dot';
        if (i === 0) dot.classList.add('active');
        dot.addEventListener('click', () => scrollToPosition(i));
        indicatorsContainer.appendChild(dot);
      }
    }

    // Scroll a posici√≥n espec√≠fica
    function scrollToPosition(index: number): void {
      const cardWidth = window.innerWidth <= 480 ? 250 : 300;
      const scrollPosition = index * cardWidth;
      carousel.scrollTo({
        left: scrollPosition,
        behavior: 'smooth'
      });
    }

    // Funci√≥n para actualizar indicadores
    function updateIndicators(): void {
      const dots = document.querySelectorAll('.scroll-dot');
      const scrollLeft = carousel.scrollLeft;
      const cardWidth = window.innerWidth <= 480 ? 250 : 300;
      const activeIndex = Math.round(scrollLeft / cardWidth);
      
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === activeIndex);
      });
    }

    // Event listeners
    carousel.addEventListener('scroll', updateIndicators);
    window.addEventListener('resize', createIndicators);

    // Inicializar
    createIndicators();

    // Soporte t√°ctil mejorado
    let isDown = false;
    let startX = 0;
    let scrollLeftStart = 0;

    carousel.addEventListener('mousedown', (e: MouseEvent) => {
      isDown = true;
      startX = e.pageX - carousel.offsetLeft;
      scrollLeftStart = carousel.scrollLeft;
    });

    carousel.addEventListener('mouseleave', () => {
      isDown = false;
    });

    carousel.addEventListener('mouseup', () => {
      isDown = false;
    });

    carousel.addEventListener('mousemove', (e: MouseEvent) => {
      if (!isDown) return;
      e.preventDefault();
      const x = e.pageX - carousel.offsetLeft;
      const walk = (x - startX) * 2;
      carousel.scrollLeft = scrollLeftStart - walk;
    });

    // Touch events para m√≥vil
    let touchStartX = 0;
    let touchScrollLeft = 0;

    carousel.addEventListener('touchstart', (e: TouchEvent) => {
      touchStartX = e.touches[0].clientX;
      touchScrollLeft = carousel.scrollLeft;
    });

    carousel.addEventListener('touchmove', (e: TouchEvent) => {
      if (!touchStartX) return;
      
      const touchX = e.touches[0].clientX;
      const diff = touchStartX - touchX;
      carousel.scrollLeft = touchScrollLeft + diff;
    });

    carousel.addEventListener('touchend', () => {
      touchStartX = 0;
    });
  });
</script>