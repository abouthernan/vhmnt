---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

// Interfaz con la propiedad `slug`
interface Servicio {
  slug: string;
  data: {
    title: string;
    description: string;
    subservices: string[];
  };
}

// Cargar la colecciÃ³n de servicios y agregar `slug`
const servicios: Servicio[] = (await getCollection('services')).map((service) => ({
  slug: service.id, // Usamos `id` como el `slug`
  data: service.data,
}));
---

<Layout title="Service">
 

  {servicios.map(({ slug, data }) => {
    const { title, description, subservices } = data;

    return (
      <section>
        <h2>{title}</h2>
        <p>{description}</p>
        <p>{subservices}</p>
      </section>
    );
  })}
</Layout>
